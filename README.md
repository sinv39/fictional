# ä¸­å›½åœ°è´¨å¤§å­¦ç§‘å¹»ç•Œç¤¾å›¢ç®¡ç†ç³»ç»Ÿ

## ğŸ‰ é¡¹ç›®ç®€ä»‹

å®Œæ•´çš„å‰åç«¯åˆ†ç¦»ç¤¾å›¢ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ç”¨æˆ·è®¤è¯ã€å†…å®¹ç®¡ç†ã€æ–‡ä»¶ä¸Šä¼ ã€ç”³è¯·å®¡æ‰¹ç­‰åŠŸèƒ½ã€‚

**ç‰ˆæœ¬**ï¼šv1.2.1  
**æ›´æ–°æ—¥æœŸ**ï¼š2025-10-08  
**éƒ¨ç½²æ–¹å¼**ï¼šæœ¬åœ°ç¼–è¯‘ + Dockeréƒ¨ç½²

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
fictional/
â”œâ”€â”€ README.md              # æœ¬æ–‡æ¡£
â”œâ”€â”€ backend/               # ğŸ”§ åç«¯ä»£ç ï¼ˆSpring Boot 3ï¼‰
â”‚   â”œâ”€â”€ src/              # Javaæºä»£ç 
â”‚   â”œâ”€â”€ pom.xml           # Mavené…ç½®
â”‚   â””â”€â”€ target/           # ç¼–è¯‘äº§ç‰©ï¼ˆjaråŒ…ï¼‰
â”œâ”€â”€ frontend/              # ğŸ¨ å‰ç«¯ä»£ç ï¼ˆVue 3ï¼‰
â”‚   â”œâ”€â”€ src/              # Vueæºä»£ç 
â”‚   â”œâ”€â”€ dist/             # æ„å»ºäº§ç‰©
â”‚   â”œâ”€â”€ package.json      # npmé…ç½®
â”‚   â”œâ”€â”€ Dockerfile.simple # Dockeré•œåƒï¼ˆç®€åŒ–ç‰ˆï¼‰
â”‚   â””â”€â”€ nginx.conf        # Nginxé…ç½®
â”œâ”€â”€ deploy/                # ğŸš€ éƒ¨ç½²æ–‡ä»¶
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ Dockerfile        # åç«¯Dockeré•œåƒ
â”‚   â”œâ”€â”€ deploy.sh         # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ README.md
â””â”€â”€ docs/                  # ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ sql/              # SQLè„šæœ¬
    â”‚   â”œâ”€â”€ init.sql     # åˆå§‹åŒ–è„šæœ¬
    â”‚   â””â”€â”€ update-application-table.sql
    â”œâ”€â”€ APIæ–‡æ¡£.md
    â”œâ”€â”€ æ•°æ®åº“æ–‡æ¡£.md
    â”œâ”€â”€ éƒ¨ç½²æ•™ç¨‹.md
    â””â”€â”€ é¡µé¢è®¾è®¡.html    # é¡µé¢è®¾è®¡åŸå‹
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- Java 17
- Spring Boot 3.2.0
- Spring Security + JWT
- MyBatis 3.0.3
- MySQL 8.0
- MinIO 8.5.7
- Argon2å¯†ç åŠ å¯†

### å‰ç«¯
- Vue 3.3.4
- Element Plus 2.4
- Vue Router 4.2
- Pinia 2.1
- Axios 1.6
- Vite 4.5

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ­¥éª¤1ï¼šåˆå§‹åŒ–MinIOï¼ˆé¦–æ¬¡éƒ¨ç½²ï¼‰

```bash
# Windowsæœ¬åœ°è¿è¡Œ
init-minio.bat
```

**ä½œç”¨**ï¼š
- è¿æ¥åˆ°æ‚¨éƒ¨ç½²çš„MinIOï¼ˆ123.60.40.72:10102ï¼‰
- åˆ›å»ºphoto-bucketå’Œvideo-bucket
- ä¸Šä¼ é»˜è®¤å°é¢å›¾ç‰‡

### æ­¥éª¤2ï¼šåˆå§‹åŒ–MySQLæ•°æ®åº“

```bash
# åœ¨æ‚¨çš„MySQLä¸­æ‰§è¡Œ
mysql -h 123.60.40.72 -P 10101 -u root -p fiction < docs\sql\init.sql
```

### æ­¥éª¤3ï¼šç¼–è¯‘å¹¶ä¸Šä¼ 

```bash
# Windowsæœ¬åœ°
åŒå‡»è¿è¡Œï¼šç¼–è¯‘å’Œä¸Šä¼ .bat
```

**è‡ªåŠ¨å®Œæˆ**ï¼š
- ç¼–è¯‘åç«¯
- æ„å»ºå‰ç«¯
- ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶åˆ°æœåŠ¡å™¨

### æ­¥éª¤4ï¼šæœåŠ¡å™¨éƒ¨ç½²

```bash
# è¿æ¥åˆ°æœåŠ¡å™¨
ssh root@123.60.40.72

# æ‰§è¡Œéƒ¨ç½²
cd /home/fiction/deploy
bash ./deploy.sh
```

**éƒ¨ç½²å†…å®¹**ï¼š
- å¯åŠ¨åç«¯æœåŠ¡ï¼ˆè¿æ¥æ‚¨çš„MySQLå’ŒMinIOï¼‰
- å¯åŠ¨å‰ç«¯æœåŠ¡

### è®¿é—®åœ°å€

- **å‰ç«¯**ï¼šhttp://123.60.40.72:10100
- **åç«¯API**ï¼šhttp://123.60.40.72:10104
- **ç®¡ç†å‘˜**ï¼šadmin / 12345678

---

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. å¤–éƒ¨æœåŠ¡ï¼ˆæ‚¨è‡ªå·±éƒ¨ç½²ï¼‰

- âœ… MySQLæ•°æ®åº“ï¼š123.60.40.72:10101
- âœ… MinIOå¯¹è±¡å­˜å‚¨ï¼š123.60.40.72:10102

### 2. æœåŠ¡å™¨è¦æ±‚

- âœ… Dockerå·²å®‰è£…ï¼ˆ20.10+ï¼‰
- âœ… Docker Composeå·²å®‰è£…ï¼ˆ1.29+ï¼‰

### 3. æœ¬åœ°å‡†å¤‡

- âœ… JDK 17+ï¼ˆç¼–è¯‘åç«¯ï¼‰
- âœ… Maven 3.6+ï¼ˆç¼–è¯‘åç«¯ï¼‰
- âœ… Node.js 18+ï¼ˆæ„å»ºå‰ç«¯ï¼‰
- âœ… mcå®¢æˆ·ç«¯ï¼ˆåˆå§‹åŒ–MinIOï¼‰

---

## ğŸ“± åŠŸèƒ½æ¸…å•

### å…¬å¼€åŠŸèƒ½
- âœ… é¦–é¡µ - å°é¢å±•ç¤º + ç¤¾å›¢ä»‹ç»
- âœ… ç™»å½• - ç”¨æˆ·è®¤è¯
- âœ… ç”³è¯·åŠ å…¥ - ç”¨æˆ·è®¾ç½®å¯†ç ç”³è¯· â­

### æˆå‘˜åŠŸèƒ½
- âœ… è§†é¢‘åˆ—è¡¨ - åœ¨çº¿æ’­æ”¾
- âœ… å›¾ç‰‡åˆ—è¡¨ - å›¾ç‰‡æŸ¥çœ‹å™¨
- âœ… å¤§äº‹è®° - æ—¶é—´çº¿å±•ç¤º

### ç®¡ç†åŠŸèƒ½ï¼ˆADMINï¼‰
- âœ… è§†é¢‘ç®¡ç† - ä¸Šä¼ å’Œç®¡ç†
- âœ… å›¾ç‰‡ç®¡ç† - ä¸Šä¼ å’Œç®¡ç†
- âœ… å¤§äº‹è®°ç®¡ç† - å‘å¸ƒå’Œç®¡ç†
- âœ… ç”³è¯·å®¡æ‰¹ - å®¡æ‰¹ååˆ é™¤è®°å½• â­
- âœ… å°é¢ç®¡ç† - æ›´æ–°ä¸»é¡µ/ä»‹ç»å°é¢ â­

---

## ğŸ“š æ–‡æ¡£åˆ—è¡¨

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| docs/APIæ–‡æ¡£.md | APIæ¥å£è§„èŒƒ |
| docs/æ•°æ®åº“æ–‡æ¡£.md | æ•°æ®åº“è¡¨ç»“æ„ |
| docs/éƒ¨ç½²æ•™ç¨‹.md | Dockeréƒ¨ç½²æ•™ç¨‹ |
| docs/é¡µé¢è®¾è®¡.html | é¡µé¢è®¾è®¡åŸå‹ï¼ˆå¯è§†åŒ–ï¼‰ |
| docs/sql/init.sql | æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼ˆDockerè‡ªåŠ¨æ‰§è¡Œï¼‰ |
| deploy/README.md | éƒ¨ç½²æ–‡ä»¶è¯´æ˜ |

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### æ›´æ–°åç«¯

```bash
# 1. æœ¬åœ°ç¼–è¯‘
cd backend
mvn clean package -DskipTests

# 2. ä¸Šä¼ 
scp target/fictional-1.0-SNAPSHOT.jar root@123.60.40.72:/home/fiction/backend/target/

# 3. æœåŠ¡å™¨é‡å¯
ssh root@123.60.40.72
cd /home/fiction/deploy
docker-compose restart fictional-backend
```

### æ›´æ–°å‰ç«¯

```bash
# 1. æœ¬åœ°æ„å»º
cd frontend
npm run build

# 2. ä¸Šä¼ 
scp -r dist root@123.60.40.72:/home/fiction/frontend/

# 3. æœåŠ¡å™¨é‡å¯
ssh root@123.60.40.72
cd /home/fiction/deploy
docker-compose restart fictional-frontend
```

---

## ğŸ”’ æƒé™è¯´æ˜

| è§’è‰² | å¯è®¿é—®å†…å®¹ |
|------|-----------|
| **æ¸¸å®¢** | é¦–é¡µã€ç™»å½•ã€ç”³è¯·åŠ å…¥ |
| **æˆå‘˜(USER)** | æ¸¸å®¢æƒé™ + è§†é¢‘ã€å›¾ç‰‡ã€å¤§äº‹è®° |
| **ç®¡ç†å‘˜(ADMIN)** | æ‰€æœ‰å†…å®¹ + ç®¡ç†åå° |

---

## ğŸ“Š ç«¯å£é…ç½®

**Dockeréƒ¨ç½²çš„æœåŠ¡**ï¼š
- **å‰ç«¯**ï¼š10100
- **åç«¯**ï¼š10104

**å¤–éƒ¨æœåŠ¡ï¼ˆæ‚¨è‡ªå·±éƒ¨ç½²ï¼‰**ï¼š
- **MySQLæ•°æ®åº“**ï¼š123.60.40.72:10101
- **MinIOå¯¹è±¡å­˜å‚¨**ï¼š123.60.40.72:10102

---

## ğŸ”§ Dockerç®¡ç†

### æŸ¥çœ‹å®¹å™¨çŠ¶æ€

```bash
cd /home/fiction/deploy
docker-compose ps
```

åº”çœ‹åˆ°2ä¸ªå®¹å™¨ï¼š
- fictional-backendï¼ˆåç«¯ï¼‰
- fictional-frontendï¼ˆå‰ç«¯ï¼‰

### æŸ¥çœ‹æ—¥å¿—

```bash
# æ‰€æœ‰æœåŠ¡
docker-compose logs -f

# å•ä¸ªæœåŠ¡
docker-compose logs -f fictional-backend
docker-compose logs -f fictional-frontend
```

### é‡å¯æœåŠ¡

```bash
docker-compose restart
```

### åœæ­¢æœåŠ¡

```bash
docker-compose stop
```

---

## ğŸ› å¸¸è§é—®é¢˜

**Q1ï¼šå¦‚ä½•æŸ¥çœ‹é¡µé¢è®¾è®¡ï¼Ÿ**  
Aï¼šæµè§ˆå™¨æ‰“å¼€ `docs/é¡µé¢è®¾è®¡.html`

**Q2ï¼šå¦‚ä½•ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼Ÿ**  
Aï¼šè¿è¡Œ `ç¼–è¯‘å’Œä¸Šä¼ .bat` æˆ–ä½¿ç”¨ `ä¸Šä¼ åˆ°æœåŠ¡å™¨.bat`

**Q3ï¼šéƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**  
Aï¼šæŸ¥çœ‹ `docs/éƒ¨ç½²æ•™ç¨‹.md` çš„æ•…éšœæ’æŸ¥éƒ¨åˆ†

**Q4ï¼šå¦‚ä½•æ›´æ–°ä»£ç ï¼Ÿ**  
Aï¼šé‡æ–°ç¼–è¯‘ã€ä¸Šä¼ ï¼Œç„¶å `docker-compose restart`

---

## ğŸ“ è·å–å¸®åŠ©

1. æŸ¥çœ‹ `docs/éƒ¨ç½²æ•™ç¨‹.md` - å®Œæ•´éƒ¨ç½²æŒ‡å—
2. æŸ¥çœ‹ `docs/APIæ–‡æ¡£.md` - APIæ¥å£æ–‡æ¡£
3. æŸ¥çœ‹ `docs/æ•°æ®åº“æ–‡æ¡£.md` - æ•°æ®åº“è®¾è®¡
4. æ‰“å¼€ `docs/é¡µé¢è®¾è®¡.html` - æŸ¥çœ‹é¡µé¢è®¾è®¡
5. æŸ¥çœ‹ `deploy/README.md` - Dockerè¯¦ç»†è¯´æ˜

---

## âœ… é¡¹ç›®çŠ¶æ€

- âœ… åç«¯å¼€å‘å®Œæˆ
- âœ… å‰ç«¯å¼€å‘å®Œæˆ
- âœ… Dockeré…ç½®å®Œæˆ
- âœ… éƒ¨ç½²è„šæœ¬å®Œæˆ
- âœ… æ–‡æ¡£ç¼–å†™å®Œæˆ

---

**ğŸ‰ æ‰€æœ‰å‡†å¤‡å·¥ä½œå·²å®Œæˆï¼Œå¯ä»¥å¼€å§‹éƒ¨ç½²äº†ï¼**
